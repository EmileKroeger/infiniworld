<div>
  <div ng-if="!pos">
    Nothing selected
  </div>
  <div ng-if="pos">

    <!-- Normal terrain -->
    
    <div ng-if="!city" class="infobox">
      <div infiniworld-cell
        class="col-xs-1 surfacecell"
        style="right: 20px; top: 5px;"
        cell="cell"
        dynamic="true"
        >
      </div>
      {{biome}} ({{pos.x}}, {{pos.y}})
    </div>
    
    <!-- Nation -->
    
    <div ng-if="nation" class="infobox">
      <h4 ng-style="{'color': nation.maincolor}">
        {{nation.name}}
      </h4>
      <div
        class="infoboxflag"
        ng-style="{'background': nation.colors}"
        >
      </div>
      <div>{{nation.blurb}}</div>
      <ul>
        <li ng-repeat="feature in nation.features">
          {{feature}}
        </li>
      </ul>
    </div>

    <!-- City -->
    
    <div ng-if="city" class="infobox">
      <!-- City icon in the corner -->
      <div infiniworld-cell
        class="col-xs-1 surfacecell"
        style="right: 5px; top: 5px;"
        cell="cell"
        dynamic="true"
        >
      </div>
      
      <!-- Name -->
      <h3>City of <span class="borderedname" ng-style="{'color': city.nation.maincolor}">
        {{city.name}}
      </span></h3>

      <!-- Features -->
      
      <p>{{city.blurb}}, ruled by {{city.ruler}}.</p>
      <ul>
        <li ng-repeat="feature in city.features">
          {{feature}}
        </li>
      </ul>
      <p>Population</p>
      <ul>
        <li>{{city.race}}</li>
      </ul>
      <div ng-if="city.factions.length">
        Factions:
        <ul>
        <li ng-repeat="faction in city.factions">
          {{faction}}
        </li>
      </ul>
      </div>
    </div>
  </div>
</div>
